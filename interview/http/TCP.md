# TCP 协议
UDP 和 TCP 的区别是什么区别？

头部： 
    Sequence number:该序号保证tcp传输的报文都是有序的，接受端就可
    一通过顺序拼接报文
    Acknowledgement Number:表示接收端期望接受的下一个字节的编码，同时也表
    示上一个序列号的数据已经接受到了
    Window Size：窗口大小表示还能接受多少字节的数据，用于流量控制


# TCP的三次握手
1. 客户端向服务端发送请求报文，客户端会进入SYN-SENT状态，
2. 服务端接受到这个请求后，如果同意，则发送一个应答，应答发送之后，便进入SYN-RECEIVED状态
3. 客户端接收到同意的应答后，在向服务端发一个确认报文，客户端进入ESTABLISHED状态，服务端
也进入ESTABLISHED状态，此时连接建立成功

# 为什么TCP建立连接需要三次握手，明明两次就可以建立连接


两次： 当客户端发送一个连接请求A，因为网络原因A请求超时，TCP就会启动超时重传机制，重新
发送请求B，服务器接收到B后进行应答，之后数据传递完成释放连接。
假设此时A在两端关闭后又到达了服务器，那么此时服务端就会认为客户端又需要建立连接，于是去响应并
进入ESTABLISHED状态，但是客户端已经CLOSED状态，服务端就会一直等，造成资源浪费

# 四次挥手
1. 客户端认为数据发送完成，向服务端发送释放连接的请求
2. 服务端接收到释放连接的请求后，告诉应用层该释放TCP连接，向客户端发送ACK包并进入CLOSED_WAIT状态。
表示不在接受客户端的数据了。但是因为TCP是双向连接的，服务端还能像客户端发送数据
3. 服务端此时还有没有没法玩的数据，就会继续发送，完毕后向客户端发送连接释放请求，自己进入LAST-ACK状态
4. 客户端接受到服务端的接受请求，向服务端确认应答，自己进入TIME-WAIT状态2MS后就进入CLOSED状态。
 服务端在接受到这个应答之后也进入CLOSED状态。

 # 为什么客户端要进入TIME-WAIT 的状态，等待2MS时间后才能进入CLOSED状态

 为了保证服务端能够接受到客户端的确认应答，如果客户端确认应答后直接进入CLOSED状态，万一网络问题导致
 应答没有被服务端接收到，那么会造成服务端无法关闭。